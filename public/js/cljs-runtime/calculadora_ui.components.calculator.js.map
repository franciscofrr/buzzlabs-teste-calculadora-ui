{"version":3,"sources":["calculadora_ui/components/calculator.cljs"],"mappings":"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","names":["calculadora-ui.components.calculator/currentInput","reagent.core.atom","calculadora-ui.components.calculator/previousInput","calculadora-ui.components.calculator/operator","calculadora-ui.components.calculator/display","calculadora-ui.components.calculator/updateDisplay","cljs.core/reset!","cljs.core/deref","clojure.string.join","calculadora-ui.components.calculator/appendNumber","number","reagent.core.rswap_BANG_","cljs.core/+","calculadora-ui.components.calculator/setOperator","op","cljs.core.not_EQ_","cljs.core.println","calculadora-ui.components.calculator/clearButton","calculadora-ui.components.calculator/displayResult","result","calculadora-ui.components.calculator/calculate","previousInput","operator","currentInput","c__17980__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__17981__auto__","switch__17757__auto__","state_24139","state_val_24140","inst_24123","inst_24128","inst_24129","inst_24130","cljs.core/PersistentHashMap","inst_24131","inst_24132","inst_24133","cljs.core.async.impl.ioc-helpers/take!","inst_24135","inst_24136","inst_24137","cljs.core.async.impl.ioc-helpers/return-chan","statearr-24146","state-machine__17758__auto__","ret-value__17759__auto__","result__17760__auto__","cljs.core/keyword-identical?","ex__17761__auto__","e24149","statearr-24150","cljs.core/seq","statearr-24153","cljs.core/first","state__17982__auto__","statearr-24157","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs_http.client.post","render-fn__23477__auto__","reagent.impl.component/memo","jsprops__23478__auto__","jsprops2__23479__auto__","js/Object.assign","reagent.impl.component/functional-render","reagent.impl.template/*current-default-compiler*","js/Object.defineProperty","obj24176","calculadora-ui.components.calculator/calculatorComponent"],"sourcesContent":["(ns calculadora-ui.components.calculator\n  (:require-macros [cljs.core.async.macros :refer [go]])\n  (:require\n   [reagent.core :as r]\n   [clojure.string :as str]\n   [cljs-http.client :as http]\n   [cljs.core.async :refer [<!]]))\n\n;; -------------------------\n;; State\n\n(def currentInput (r/atom \"\"))\n(def previousInput (r/atom \"\"))\n(def operator (r/atom \"\"))\n(def display (r/atom \"\"))\n\n;; -------------------------\n;; Functions\n\n(defn updateDisplay []\n  (reset! display (str/join [@previousInput @operator @currentInput])))\n\n(defn appendNumber [number]\n  (r/rswap! currentInput + number)\n  (updateDisplay))\n\n(defn setOperator [op]\n  (if (not= op @operator)\n    (do\n      (reset! operator op)\n      (reset! previousInput @currentInput)\n      (reset! currentInput \"\")\n      (updateDisplay))\n    (println \"nope\")))\n\n(defn clearButton []\n  (reset! currentInput \"\")\n  (reset! previousInput \"\")\n  (reset! operator \"\")\n  (updateDisplay))\n\n(defn displayResult [result] \n    (reset! previousInput \"\")\n    (reset! currentInput result)\n    (reset! operator \"\")\n    (reset! display result)\n    )\n\n;; -------------------------\n;; API Call\n\n(defn calculate [previousInput operator currentInput]\n  (go (let [response (<! (http/post \"http://localhost:4000/calculate\"\n                                    {:with-credentials? false\n                                     :query-params\n                                     {:operatorLeft previousInput :operationSign operator :operatorRight currentInput}}))]\n        (displayResult (:body response)))))\n\n;; -------------------------\n;; Component\n\n(r/defc calculatorComponent []\n  [:div\n   {:class \"calculator\"}\n   [:input {:type \"text\" :class \"display\" :id \"display\" :value @display}]\n   [:div {:class \"buttons\"}\n    [:button {:on-click #(appendNumber \"1\")} \"1\"]\n    [:button {:on-click #(appendNumber \"2\")} \"2\"]\n    [:button {:on-click #(appendNumber \"3\")} \"3\"]\n    [:button {:on-click #(setOperator \"+\")} \"+\"]\n    [:button {:on-click #(appendNumber \"4\")} \"4\"]\n    [:button {:on-click #(appendNumber \"5\")} \"5\"]\n    [:button {:on-click #(appendNumber \"6\")} \"6\"]\n    [:button {:on-click #(setOperator \"-\")} \"-\"]\n    [:button {:on-click #(appendNumber \"7\")} \"7\"]\n    [:button {:on-click #(appendNumber \"8\")} \"8\"]\n    [:button {:on-click #(appendNumber \"9\")} \"9\"]\n    [:button {:on-click #(setOperator \"*\")} \"*\"]\n    [:button {:on-click #(clearButton)} \"C\"]\n    [:button {:on-click #(appendNumber \"0\")} \"0\"]\n    [:button {:on-click #(setOperator \"/\")} \"/\"]\n    [:button {:class \"equals\" :on-click #(calculate @previousInput @operator @currentInput)} \"=\"]]])"]}