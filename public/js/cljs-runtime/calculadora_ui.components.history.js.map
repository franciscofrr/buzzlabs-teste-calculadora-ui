{"version":3,"sources":["calculadora_ui/components/history.cljs"],"mappings":"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","names":["calculadora-ui.components.history/historyData","reagent.core.atom","calculadora-ui.components.history/loadHistory","historyRes","cljs.core/reset!","cljs.reader.read_string","calculadora-ui.components.history/history","c__17980__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__17981__auto__","switch__17757__auto__","state_24109","state_val_24110","inst_24100","inst_24101","inst_24102","cljs.core/PersistentHashMap","inst_24103","cljs.core.async.impl.ioc-helpers/take!","inst_24105","inst_24106","inst_24107","cljs.core.async.impl.ioc-helpers/return-chan","statearr-24115","state-machine__17758__auto__","ret-value__17759__auto__","result__17760__auto__","cljs.core/keyword-identical?","ex__17761__auto__","e24116","statearr-24117","cljs.core/seq","statearr-24118","cljs.core/first","state__17982__auto__","statearr-24120","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs_http.client.get","render-fn__23477__auto__","reagent.impl.component/memo","jsprops__23478__auto__","jsprops2__23479__auto__","js/Object.assign","reagent.impl.component/functional-render","reagent.impl.template/*current-default-compiler*","js/Object.defineProperty","obj24148","calculadora-ui.components.history/historyComponent","iter__5480__auto__","s__24125","cljs.core/LazySeq","temp__5804__auto__","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__24127","cljs.core/chunk-buffer","i__24126","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__24124","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","cljs.core/deref","item","cljs.core/chunk-first"],"sourcesContent":["(ns calculadora-ui.components.history\n  (:require-macros [cljs.core.async.macros :refer [go]])\n  (:require\n   [cljs.reader]\n   [reagent.core :as r]\n   [cljs-http.client :as http]\n   [cljs.core.async :refer [<!]]))\n\n;; -------------------------\n;; State\n\n(def historyData (r/atom []))\n\n;; -------------------------\n;; Functions\n\n(defn loadHistory [historyRes]\n  (reset! historyData (cljs.reader/read-string (str \"[\"historyRes\"]\")))\n  )\n\n;; -------------------------\n;; API Call\n\n(defn history []\n  (go (let [response (<! (http/get \"http://localhost:4000/history\" {:with-credentials? false}))]\n        (loadHistory (:body response)))))\n\n;; -------------------------\n;; Component\n\n(r/defc historyComponent []\n  [:div\n   {:class \"historico\"}\n   [:button {:class \"history-button\" :on-click #(history)} \"Carregar hist\u00f3rico\"]\n   [:ul\n    (for [item @historyData]\n      ^{:key [item :id]} [:li [item :operation] \" = \" [item :result]])]])"]}